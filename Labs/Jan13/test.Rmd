---
output:
  html_document: default
  pdf_document: default
---
# Lab 1: An Introduction to R
## CS3130

### Installation of R

R is a programming language for statistical computing and graphics. It will be used throughout the course in order to help you visualize, organize, and manipulate data.

R plays a key role in research and data analysis projects because it makes modern statistical methods readily available and easy to use.

R is available for Windows, OS X, and Linux/Unix platforms. If you go to the R project website http://www.rproject.org/, you can go to your local CRAN mirror and download the installer relevant to your operating system. When you open the base R application, you're presented with the R console and you can open the editor via: File $\rightarrow$ New script. 

![R GUI application in Windows:Console and Editor](https://linkpicture.com/q/R-tutorial-pic-1.png)

R code may be entered directly into the console via the prompt '>', or written in an editor, then pasted into the console.

### R Markdown

In order to practice making research-quality documents in your scientific work in the future, you will write your assignments in the Lab using the easy-to-write, plain text format, R Markdown. R Markdown creates dynamic documents and reports. In other words, an R Markdown document is continually edited and updated, and input and output of R code may be shared and edited by others. 

In order to install and use R Markdown you will download the IDE R Studio at http://www.rstudio.com/ and install the rmarkdown package by using the library function directly at the R prompt.

```{r}
library(rmarkdown)
```

In order to create an R Markdown file, open a plain text file via: File $\rightarrow$ New File $\rightarrow$ Text File. Save the file in a convenient place in your workspace and use the extension .Rmd. Click the Help menu in the rightmost panel in order to start your R Markdown document.

$\textbf{1}$. Create an R Markdown document for Lab 1 and create a Header 1 as a title using the instructions from the Help menu. Create a Header 2 as your name.

```{r}
# Lab 1
## Name
```

In order to execute your code directly in the R Markdown editor, enter the code line-by-line directly under the {r} like so 

![Entering your R code into R Markdown](https://linkpicture.com/q/R-tutorial-pic-2.png)

### Basic Arithmetic Using R

As in Python, the most basic role of R is to serve as a mere desktop calculator. Basic arithmetic may be performed by R governed by the usual order of operations(PEMDAS) after entered into the console appropriately. Use the symbols $+,*,-$,/, and ^ for the operations of addition, multiplication, subtraction, division, and exponentiation respectively. For example, to evaluate the expression $$\bigg{(}\frac{.44 \times (1-.44)}{34}\bigg{)}^{\frac{1}{2}}$$
enter
```{r}
(.44*(1-.44)/34)^(1/2)
```

$\textbf{2}$. Using R, compute the cube root of half the average of the numbers $24,17,14.5,24.4$, and $17.8$ squared.

```{r}
((24+17+14.5+24.4+17.8)/10)^(2/3)
```

### Creating Objects in R

If you want to save the results from a calculation and perform further operations with this quantity, you can store that value in an object in the current workspace using either an arrow '<-' or an equal sign '='.

For example, to store the result from the calculation above as the object 'foo' you can
```{r}
foo<-(.44*(1-.44)/34)^(1/2)
foo
```
or 

```{r}
foo=(.44*(1-.44)/34)^(1/2)
foo
```
To overwrite the object 'foo' by itself divided by $2$ you can
```{r}
foo=foo/2
foo
```
$\textbf{3}$. Store the result of the calculation in problem $\textbf{1}$. in the object 'baz'. Then overwrite the object 'baz' as just the average of the numbers $24,17,14.5,24.4$ and $17.8$. Print to the console.


```{r}
baz<-((24+17+14.5+24.4+17.8)/10)^(2/3)
baz=2*(baz)^(3/2)
baz
```
### Basic Functions

In the future, when we discuss transformations of Random Variables, you must be able to find logarithms, sines, and cosines of numbers, and numbers raised to the base $e$. R comes equipped with the functions log, sin, cos, and exp in order to compute these values. To change the base of the logarithm, you need to specify an extra parameter(specifying the base) to the argument of the function. An unspecified parameter considers the natural logarithm automatically.
```{r}
log(1)
log(x=243,base=3)
sin(pi/4)
cos(pi/6)
exp(log(4))
```
### Basic Data Structures

In order to organize data, you can create object types like vectors, matrices, arrays, lists, and data frames using numerical and categorical data using the functions c, matrix, array, list, and data.frame along with an appropriate list of arguments as parameters.

### Vectors

To store $5$ data points $3,4.1,5.6,7,9$ as a vector 'bar' you can 
```{r}
bar=c(3,4.1,5.6,7,9)
bar
```
To extract the third element from 'bar', and store the value in an object 'bak', you can use bracket [] and the corresponding index inside the bracket
```{r}
bak<-bar[3]
bak
```
To delete the fourth element from 'bar', and store the value in a vector 'bas', you can use bracket [] and the corresponding negative of the index inside the bracket

```{r}
bas<-bar[-4]
bas
```
$\textbf{4}$. Store the sequence of values $-2,2,3,-4,0,-7,-7$ in a $7$-dimensional vector 'baj', then overwrite this vector as the $3$-dimensional vector of only nonnegative values from this sequence.

```{r}
baj<-c(-2,2,3,-4,0,-7,-7)
baj<-baj[baj>=0]
baj
```
### Matrices

To store a sequence of logicals T,T,F,T,T,F,F,T,F,T where TRUE= T or FALSE=F as a $5 \times 2$ matrix 'kee', filled by row you can
```{r}
kee=matrix(data=c(T,T,F,T,T,F,F,T,F,T),nrow=5,ncol=2,byrow=TRUE)
kee
```
As with vectors, you can extract submatrices, collections of rows and columns in any order, or individual elements from the matrix using brackets and specifying row and column numbers by considering order.

To extract the second row you can 
```{r}
kee[2,]
```
To extract the $2 \times 2$ submatrix containing rows/columns $1$ and $2$, then swap the positions of the columns you can
```{r}
kee[c(1,2),c(2,1)]
```
Functions like dim will specify attributes of the matrix like the dimension. For example
```{r}
dim(kee[c(1,2),c(2,1)])
```
$\textbf{5}$. Construct a $4 \times 4$ matrix that's filled column-wise with the values $2,3,4,5,7,8,8,9,10,13,14,14,15,17,17,17$. Use the function diag to extract the diagonal elements from this matrix. Then use the functions sd and summary to find the standard deviation and summary statistic of these four values.

```{r}
A=matrix(data=c(2,3,4,5,7,8,8,9,10,13,14,14,15,17,17,17),nrow=4,ncol=4)
A
diag(A)
sd(diag(A))
summary(diag(A))
```

### Arrays

Just like matrices are the result of increasing the dimension of a vector, a $3$-dimensional array is the result of increasing the dimension of a matrix. We may consider arrays of a given dimension for any positive integer. Here is an example of how to create a $4$-dimensional array 'AR' consisting of $72$ elements filled column wise. Conceptually, this array may be perceived as three blocks of $3 \times 4 \times 2$ arrays. 
```{r}
AR<-array(data=rep(1:24,times=3),dim=c(3,4,2,3))
AR
```
The function rep takes the finite sequence $1, 2, ...,24$ and repeates it $3$ times using the times=3 argument. This produces a vector of the $72$ elements of the sequence. The function array takes the resulting vector and specified array dimension as arguments and produces the array filled column-wise according to the specified dimension.

![A conceptual diagram of a 3x4x2 array. The index of each element is given at the corresponding position. These indexes are provided in the strict order of [row,column,layer]](https://linkpicture.com/q/R-tutorial-pic-3.png)

$\textbf{6}$. The third component of a $3$-dimensional array is referred to as the 'layer' of the array. If a $3$-dimensional array is thought of as matrices stacked on top of each other, the layer number represents the number of stacks. Create a $3$-dimensional array consisting of $6$ layers of $4 \times 2$ matrices filled row-wise with an increasing sequence of the numbers $1,2,...,48$. Store this array as an appropriate object, then use subsetting to overwrite this object as a new $4 \times 2 \times 5$ array with the fifth layer deleted.

```{r}
BR=array(data=c(seq(from=1,to=7,by=2),seq(from=2,to=8,by=2),seq(from=9,to=15,by=2),seq(from=10,to=16,by=2),seq(from=17,to=23,by=2),seq(from=18,to=24,by=2),seq(from=25,to=31,by=2),seq(from=26,to=32,by=2),seq(from=33,to=39,by=2),seq(from=34,to=40,by=2),seq(from=41,to=47,by=2),seq(from=42,to=48,by=2)),dim=c(4,2,6))
BR
BR<-BR[,,-5]
BR
```

### Lists

A list is an incredibly useful data structure that can be used to group together any mix of R structures and objects. A single list could contain a numeric matrix, a logical array, a single character string, and a factor object. To name components of a list as it's being created, assign a label to each component in the list command. To create a list containing a $2 \times 2$ matrix named 'Numeric', filled column-wise with the sequence $1,2,3,4$, a logical vector containing the sequence T,F,T,T named 'Logical' and a character string 'hello world' named 'Logical' stored as the object 'Tad' you can

```{r}
Tad=list(Numeric=matrix(data=1:4,nrow=2,ncol=2),Logical=c(T,F,T,T),String="hello world")
Tad
```

$\textbf{7}$. Create a list containing the $2 \times 2$ Identity Matrix named 'I', a vector consisting of a decreasing sequence of $8$ numbers from $3.1$ to $-1.9$ evenly spaced named 'v', and the list 'Tad' from the example above.

```{r}
Taj=list(I=matrix(c(1,0,0,1),nrow=2,ncol=2),v=seq(from=3.1,to=-1.9,length.out=8),Tad=list(Numeric=matrix(data=1:4,nrow=2,ncol=2),Logical=c(T,F,T,T),String="hello world"))
Taj
```

### Data Frames

A data frame is R's most natural way of presenting a data set with a collection of recorded observations for one or more variables. Like lists, data frames have no restriction on the data types of the variables. The data frame is one of the most frequently used tools in R for statistical data analysis. To create a data frame supply your data as arguments to the data.frame function, grouped by variable, as vectors of the same length.

Consider the following example data set 

```{r}
mydata<-data.frame(person=c("Stan","Francine","Steve","Al","Hayley"),age=c(42,40,15,41,19),gender=factor(c("M","F","M","M","F")))
mydata
```
Here you have constructed a data frame with the first name, age in years, and gender of five individuals. The returned object should make it clear why vectors passed to data.frame must be of equal lengths. Conversely, when performing operations on vectors, or comparing to vectors componentwise, R will recycle the length of the shorter vector(replicate the sequence of elements) as long as the length of the shorter vector is a divisor of the length of the longer vector. For example

```{r}
c(5,6,7,8)+c(2,4)
c(5,6,7,8,9,10)<c(5,7,10)
```

### Knitting Your .Rmd file

Once you have saved your R Markdown document and are ready to turn it in, go up to the Knit tab in the R Markdown editor, click the downwards arrow and Knit your document to HTML, PDF, or Word. Knit your document continuously to make sure the output is correct. Knitting takes your .Rmd file, extracts the R code in it according to a list of patterns, evaluates the code, and writes the output in another file.